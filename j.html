<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Scroll Questions</title>
<style>
    body {
        margin: 0;
        padding: 0;
        background: linear-gradient(135deg, #40e0d0, #afeeee); /* turquoise gradient */
        font-family: Arial, sans-serif;
    }

    .scroll-text-container {
        position: absolute;
        top: 22%;
        left: 16%;
        right: 15%;
        bottom: 20%;
        background: transparent;
        color: #3b2f2f;
        padding: 10px;
        text-align: center;
        overflow-y: auto;
        border-radius: 8px;
    }

    .scroll-slot {
        position: relative;
        width: 100%;
        max-width: 700px;
        margin: 20px auto;
    }

    .scroll-img {
        width: 110%;
        height: auto;
        transform: scale(1.1);
        display: block;
        margin: 0 auto;
    }

    .question {
        font-family: 'Georgia', serif;
        font-weight: bold;
        font-size: 1.5rem;
        line-height: 1.4;
        color: #3b2f2f;
        word-wrap: break-word;
        margin-top: 40px;
        padding: 0 10px;
        text-align: center;
    }

    .input-box input {
        background-color: #90ee90;
        border: none;
        padding: 8px 16px;
        font-size: 16px;
        width: 80%;
        margin-top: 10px;
        border-radius: 25px;
        outline: none;
        transition: background-color 0.2s ease;
    }

    .input-box input:focus {
        background-color: #7ed87e;
    }

    .option1, .option2, .option3, .option4 {
        margin: 8px 0;
    }

    .option1 button,
    .option2 button,
    .option3 button,
    .option4 button,
    .next-button button,
    .skip-button button {
        background-color: #90ee90;
        border: none;
        padding: 10px 20px;
        font-size: 16px;
        border-radius: 25px;
        cursor: pointer;
        transition: background-color 0.2s ease, transform 0.1s ease;
    }

    .option1 button:hover,
    .option2 button:hover,
    .option3 button:hover,
    .option4 button:hover,
    .next-button button:hover,
    .skip-button button:hover {
        background-color: #7ed87e;
        transform: scale(1.05);
    }

    .Statement {
        margin-top: 20px;
        font-style: italic;
    }

    .next-button {
        margin-top: 20px;
    }
</style>
</head>
<body>

<div class="scroll-slot">
    <img class="scroll-img" src="Images/scroll-removebg-preview.png" alt="Scroll">

    <div class="scroll-text-container">
        <p class="question"></p>
        <div class="input-box"></div>
        <div class="option1"></div>
        <div class="option2"></div>
        <div class="option3"></div>
        <div class="option4"></div>
        <p class="Statement"></p>
        <div class="next-button"></div>
        <div class="skip-button"></div>
    </div>
</div>

<script>
let questions = [
  { type: "input", question: "What is your name?", options: [], answer: "" },
  { type: "input", question: "Where is this penthouse located?", options: [], answer: "" },
  { type: "mcq", question: "What is the name of your favourite football team ?", options: ["Real Madrid", "Bayern Munich", "Liverpool", "Manchester United"], answer: "" },
  { type: "input", question: "What is your fourth favourite colour?", options: [], answer: "" },
  { type: "input", question: "What was that one nickname I had for you but then stopped using cuz you told me to?", options: [], answer: "" },
  { type: "mcq", question: "To whom do you send the most reels to?", options: ["Neha", "Utkarsh", "Pragya", "Utkarsh,but extra pyaar se"], answer: "" },
  { type: "input", question: "What line of MKPJ do you remember the most?", options: [], answer: "" },
  { type: "input", question: "Utkarsh isnâ€™t Utkarsh without______?", options: [], answer: "" },
  { type: "input", question: "Bade papa used to call you _____ when you were chotuuu.", options: [], answer: "" },
  { type: "mcq", question: "Give an approximate estimate of how many calls we had made last year.", options: ["484", "538", "576", "616"], answer: "" },
  { type: "statement", question: "This isnâ€™t a question, itâ€™s just a reminder that you are lovely sweetu.", options: [], answer: "" },
  { type: "input", question: "How jealous do you get when I am with other people without you?", options: [], answer: "" },
  { type: "input", question: "Who is your favourite footballer?", options: [], answer: "" },
  { type: "input", question: "If we were to go out on a street food date what will you look forward to the most?", options: [], answer: "" },
  { type: "input", question: "Why did you cry on your 7th grade birthday?", options: [], answer: "" },
  { type: "input", question: "Use 3 words to describe me.", options: [], answer: "" },
  { type: "input", question: "How wide do I smile when I am talking to you??", options: [], answer: "" },
  { type: "input", question: "What is your worth for me if you are so so so important in my life?", options: [], answer: "" },
  { type: "input", question: "On a scale of 1-10 how excited are you for the pages that are gonna come after this?", options: [], answer: "" }
];
let currentIndex = 0;

function iterateQuestions() {
    function1(questions[currentIndex], currentIndex);
}
function function1(questionObj, index) {
  displayQuestion(questionObj);
  for (let i = 1; i <= 4; i++) document.querySelector(`.option${i}`).innerHTML = "";

  if (questionObj.type === 'input') {
    displayInputBox();

    // ... (keep your answer checks exactly the same) ...
    if (index === 0) {
      enableEnterCheck([
        { answer: "pragya", message: "Yep, thatâ€™s you!,but don't forget the new nickname I gave you a few days agoow." },
        { answer: "pragya pranjal", message: "Full name flex ohooðŸ˜Ž,but don't forget the new nickname I gave you a few days agoow" },
        { answer: "chicken tandoori", message: "Yeppp! You remembered!That's my gurllll!!" },
        { answer: "0x12", message: "Owww nooo who are youu?? tryna invade my dear pragya's penthouse" }
      ]);
    } 
    // (rest of your input question checks remain unchanged)
    else {
      nextQuestion();
    }
  } else if (questionObj.type === 'mcq') {
    if (index === 2) {
      createOptionButtons(['Real Madrid','Bayern Munich','Liverpool','Manchester United']);
      enableMCQCheck([
        { text: "Real Madrid", message: "WooHoo officially a real madrid girlie nowwww", correct: true },
        { text: "Bayern Munich", message: "Ahhhh traitorrrrr" },
        { text: "Liverpool", message: "Ahhhh traitorrrrr" },
        { text: "Manchester United", message: "Ahhhh traitorrrrr" }
      ]);
    } else if (index === 5) {
      createOptionButtons(['Neha','Shaivya','Utkarsh','Utkarsh with a lil extra love']);
      enableMCQCheck([
        { text: "Neha", message: "Ahhhh I knew you hate meeee", correct: true },
        { text: "Shaivya", message: "Ahhhh I knew you hate meeee", correct: true },
        { text: "Utkarsh", message: "Mai toh pyaara hu mujhe extra pyaar se bheja krow", correct: true },
        { text: "Utkarsh with a lil extra love", message: "yayyyy thankyouuuu I love you tooooooo", correct: true }
      ], true);
    } else if (index === 9) {
      createOptionButtons(['484','538','576','616']);
      enableMCQCheck([
        { text: "484", message: "Ohhh noo go check the new year msg that I had written for you" },
        { text: "538", message: "Yesss the 538 calls made you my most talked to person of the yearrr", correct: true },
        { text: "576", message: "Ohhh noo go check the new year msg that I had written for you" },
        { text: "616", message: "Ohhh noo go check the new year msg that I had written for you" }
      ]);
    }
  } else if (questionObj.type === 'statement') {
    createNextButton();
  }
}

function displayQuestion(q) {
    document.querySelector(".question").textContent = q.question;
}
function displayInputBox() {
    const inputContainer = document.querySelector(".input-box");
    const inputElement = document.createElement("input");
    inputElement.type = "text";
    inputElement.placeholder = "Enter your answer";
    inputContainer.innerHTML = "";
    inputContainer.appendChild(inputElement);
}
function enableEnterCheck(correctAnswersWithMessages, customValueCheck) {
    const inputElement = document.querySelector(".input-box input");
    if (!inputElement) return;

    // remove old listeners before adding a new one
    inputElement.onkeypress = null;

    inputElement.addEventListener("keypress", function (event) {
        if (event.key !== "Enter") return;
        event.preventDefault();

        const userAnswer = inputElement.value.trim().toLowerCase();

        // same logic as your original
        const fallback = correctAnswersWithMessages[correctAnswersWithMessages.length - 1];
        const textMatch = correctAnswersWithMessages.find(o => o.answer && userAnswer === o.answer.toLowerCase());
        if (textMatch) {
            displayStatement(textMatch.message);
            createNextButton();
            localStorage.setItem("quizCurrentIndex", currentIndex + 1);
            return;
        }
        if (fallback && fallback.message) displayStatement(fallback.message);
    });
}

function createOptionButtons(optionsArray) {
    optionsArray.forEach((optionText, index) => {
        const div = document.querySelector(`.option${index + 1}`);
        div.innerHTML = "";
        const button = document.createElement("button");
        button.textContent = optionText;
        div.appendChild(button);
    });
}
function displayStatement(text) {
    const container = document.querySelector(".Statement");
    container.innerHTML = `<p>${String(text || "").replace(/\n/g, "<br>")}</p>`;
}
function createNextButton() {
    const container = document.querySelector(".next-button");
    container.innerHTML = "";
    const btn = document.createElement("button");
    btn.textContent = "Next";
    btn.addEventListener("click", nextQuestion);
    container.appendChild(btn);
}
function enableMCQCheck(optionsWithMessages, allowAny = false) {
  const storageKey = "mcqChoice_" + currentIndex;
  const applyChoice = (choiceText) => {
    const matched = optionsWithMessages.find(o => o.text.trim().toLowerCase() === choiceText.trim().toLowerCase());
    document.querySelector(".next-button").innerHTML = "";
    if (matched) {
      displayStatement(matched.message);
      if (allowAny || matched.correct) createNextButton();
    }
  };
  const saved = localStorage.getItem(storageKey);
  if (saved) applyChoice(saved);
  for (let i = 1; i <= 4; i++) {
    const btn = document.querySelector(`.option${i} button`);
    if (!btn) continue;
    btn.addEventListener("click", () => {
      const choice = btn.textContent;
      localStorage.setItem(storageKey, choice);
      applyChoice(choice);
    });
  }
}

function nextQuestion() {
  document.querySelector(".next-button").innerHTML = "";
  document.querySelector(".Statement").innerHTML = "";
  document.querySelector(".question").innerHTML = "";
  document.querySelector(".input-box").innerHTML = "";
  for (let i = 1; i <= 4; i++) document.querySelector(`.option${i}`).innerHTML = "";

  currentIndex++;
  if (currentIndex >= questions.length) {
    const statementContainer = document.querySelector(".Statement");
    statementContainer.innerHTML = "<p>ðŸŽ‰ Youâ€™ve completed all the questions! ðŸŽ‰<br>Now IK you are the real Pragya,enjoy your new penthouse</p>";
    const endContainer = document.querySelector(".next-button");
    const enterBtn = document.createElement("button");
    enterBtn.textContent = "ENTER";
    enterBtn.addEventListener("click", () => { window.location.href = "home.html"; });
    endContainer.appendChild(enterBtn);
    return;
  }
  localStorage.setItem("quizCurrentIndex", currentIndex);
  function1(questions[currentIndex], currentIndex);
}

function loadProgress() {
    const savedIndex = localStorage.getItem("quizCurrentIndex");
    if (savedIndex !== null) currentIndex = parseInt(savedIndex, 10);
}
loadProgress();
iterateQuestions();
</script>
</body>
</html>
